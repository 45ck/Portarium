# bead-0183 spec traceability matrix

## Scope

Trace each spec in `.specify/specs/` to at least one implementation bead and one test-evidence bead.

## Matrix

| Spec                                                         | Implementation bead(s)                | Implementation evidence                                                                                                                             | Test bead(s)       | Test evidence                                                                                                                                          |
| ------------------------------------------------------------ | ------------------------------------- | --------------------------------------------------------------------------------------------------------------------------------------------------- | ------------------ | ------------------------------------------------------------------------------------------------------------------------------------------------------ |
| `.specify/specs/adapter-registration-v1.md`                  | `bead-0447`                           | `src/domain/adapters/adapter-registration-v1.ts`                                                                                                    | `bead-0447`        | `src/domain/adapters/adapter-registration-v1.test.ts`, `src/infrastructure/openapi/openapi-contract.test.ts`                                           |
| `.specify/specs/application-layer-v1.md`                     | `bead-0308`                           | `src/application/services/repository-aggregate-invariants.ts`                                                                                       | `bead-0300`        | `src/application/integration/start-workflow-flow.integration.test.ts`                                                                                  |
| `.specify/specs/approval-v1.md`                              | `bead-0028`                           | `src/domain/approvals/approval-v1.ts`                                                                                                               | `bead-0028`        | `src/domain/approvals/approval-v1.test.ts`                                                                                                             |
| `.specify/specs/canonical-objects-v1.md`                     | `bead-0007`                           | `src/domain/canonical/index.ts`                                                                                                                     | `bead-0007`        | `src/domain/canonical/party-v1.test.ts`                                                                                                                |
| `.specify/specs/cockpit-demo-mock-mode-v1.md`                | `bead-0293`                           | `src/presentation/ops-cockpit/http-client.ts`                                                                                                       | `bead-0333`        | `src/presentation/ops-cockpit/http-client.test.ts`                                                                                                     |
| `.specify/specs/control-plane-api-v1.md`                     | `bead-0031`                           | `docs/spec/openapi/portarium-control-plane.v1.yaml`                                                                                                 | `bead-0014`        | `src/infrastructure/openapi/openapi-contract.test.ts`                                                                                                  |
| `.specify/specs/credential-grant-v1.md`                      | `bead-0447`                           | `src/domain/credentials/credential-grant-v1.ts`                                                                                                     | `bead-0447`        | `src/domain/credentials/credential-grant-v1.test.ts`, `src/infrastructure/openapi/openapi-contract.test.ts`                                            |
| `.specify/specs/deployment-truth-v1.md`                      | `bead-0051`                           | `src/domain/deployment/definition-truth-v1.ts`                                                                                                      | `bead-0051`        | `src/domain/deployment/definition-truth-v1.test.ts`                                                                                                    |
| `.specify/specs/domain-event-v1.md`                          | `bead-0007`                           | `src/domain/events/domain-events-v1.ts`                                                                                                             | `bead-0007`        | `src/domain/events/domain-events-v1.test.ts`                                                                                                           |
| `.specify/specs/domain-parsing-toolkit-v1.md`                | `bead-0302`                           | `src/domain/validation/parse-utils.ts`                                                                                                              | `bead-0302`        | `src/domain/validation/parse-utils.test.ts`                                                                                                            |
| `.specify/specs/event-stream-cloudevents-v1.md`              | `bead-0022`                           | `src/domain/event-stream/cloudevents-v1.ts`                                                                                                         | `bead-0022`        | `src/domain/event-stream/cloudevents-v1.test.ts`                                                                                                       |
| `.specify/specs/evidence-retention-policy-v1.md`             | `bead-0035`                           | `src/domain/evidence/evidence-entry-v1.ts`                                                                                                          | `bead-0036`        | `docs/review/bead-0036-adr-029-review.md`                                                                                                              |
| `.specify/specs/evidence-v1.md`                              | `bead-0003`                           | `src/domain/evidence/evidence-entry-v1.ts`                                                                                                          | `bead-0003`        | `src/domain/evidence/evidence-entry-v1.test.ts`                                                                                                        |
| `.specify/specs/iam-mvp.md`                                  | `bead-0016`                           | `src/application/iam/rbac/workspace-rbac.ts`                                                                                                        | `bead-0016`        | `src/application/iam/rbac/workspace-rbac.test.ts`                                                                                                      |
| `.specify/specs/infrastructure-layer-v1.md`                  | `bead-0391`                           | `src/infrastructure/postgresql/postgres-store-adapters.ts`                                                                                          | `bead-0391`        | `src/infrastructure/postgresql/postgres-store-adapters.integration.test.ts`                                                                            |
| `.specify/specs/location-map-operations-v1.md`               | `bead-0560`, `bead-0561`, `bead-0553` | `src/domain/location/location-event-v1.ts`, `src/domain/location/map-layer-v1.ts`, `src/infrastructure/location/localisation-ingestion-pipeline.ts` | `bead-0553`        | `src/infrastructure/location/localisation-ingestion-pipeline.integration.test.ts`, `src/infrastructure/location/map-data-services.integration.test.ts` |
| `.specify/specs/machine-interface-v1.md`                     | `bead-0432`                           | `src/application/ports/machine-invoker.ts`                                                                                                          | `bead-0432`        | `src/application/ports/machine-invoker.test.ts`                                                                                                        |
| `.specify/specs/map-command-governance-v1.md`                | `bead-0558` (open)                    | `src/application/commands/submit-map-command-intent.ts`                                                                                             | `bead-0558` (open) | `src/application/commands/submit-map-command-intent.test.ts`                                                                                           |
| `.specify/specs/plan-v1.md`                                  | `bead-0003`                           | `src/domain/plan/plan-v1.ts`                                                                                                                        | `bead-0003`        | `src/domain/plan/plan-v1.test.ts`                                                                                                                      |
| `.specify/specs/policy-v1.md`                                | `bead-0018`                           | `src/domain/policy/policy-v1.ts`                                                                                                                    | `bead-0018`        | `src/domain/policy/policy-v1.test.ts`                                                                                                                  |
| `.specify/specs/port-v1.md`                                  | `bead-0007`                           | `src/domain/ports/port-v1.ts`                                                                                                                       | `bead-0007`        | `src/domain/ports/port-v1.test.ts`                                                                                                                     |
| `.specify/specs/presentation-layer-reference-cockpit-v1.md`  | `bead-0427`                           | `src/presentation/ops-cockpit/machine-agent-client.ts`                                                                                              | `bead-0333`        | `src/presentation/ops-cockpit/machine-agent-client.test.ts`                                                                                            |
| `.specify/specs/quota-semantics-v1.md`                       | `bead-0021`                           | `src/domain/quota/quota-semantics-v1.ts`                                                                                                            | `bead-0021`        | `src/domain/quota/quota-semantics-v1.test.ts`                                                                                                          |
| `.specify/specs/robotics-action-semantics.md`                | `bead-0514`                           | `src/domain/robots/mission-action-semantics-v1.ts`                                                                                                  | `bead-0514`        | `src/domain/robots/mission-action-semantics-v1.test.ts`                                                                                                |
| `.specify/specs/run-v1.md`                                   | `bead-0024`                           | `src/domain/runs/run-v1.ts`                                                                                                                         | `bead-0024`        | `src/domain/runs/run-v1.test.ts`                                                                                                                       |
| `.specify/specs/vaop-mvp-domain-atlas-research-programme.md` | `bead-0002`                           | `docs/research/vaop-mvp-domain-atlas-research-programme.md`                                                                                         | `bead-0002`        | `src/infrastructure/domain-atlas/domain-atlas-artifacts.test.ts`                                                                                       |
| `.specify/specs/vertical-packs.md`                           | `bead-0001`                           | `src/domain/packs/pack-manifest.ts`                                                                                                                 | `bead-0001`        | `src/domain/packs/pack-manifest.test.ts`                                                                                                               |
| `.specify/specs/work-item-v1.md`                             | `bead-0011`                           | `src/domain/work-items/work-item-v1.ts`                                                                                                             | `bead-0011`        | `src/domain/work-items/work-item-v1.test.ts`                                                                                                           |
| `.specify/specs/workflow-v1.md`                              | `bead-0029`                           | `src/domain/workflows/workflow-v1.ts`                                                                                                               | `bead-0029`        | `src/domain/workflows/workflow-v1.test.ts`                                                                                                             |

## Notes

- `map-command-governance-v1` is linked to `bead-0558` and currently remains open.
- All rows include both implementation and test-bead linkage; open items are explicitly marked.
