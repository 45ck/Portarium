# Local development environment variables
# Copy to .env.local and adjust if you changed default ports in docker-compose.yml
#
# DO NOT commit .env.local — it is gitignored.

# ── Database (evidence-db / portarium-postgres) ──────────────────────────────
# Used by: npm run dev:db:init, npm run dev:db:reset, npm run db:bootstrap
# Default matches the postgres:16-alpine service in docker-compose.yml
DATABASE_URL=postgresql://portarium:portarium@localhost:5432/portarium

# ── Control-plane runtime ─────────────────────────────────────────────────────
# Used by the API container (portarium-api) when running outside Docker
PORTARIUM_DATABASE_URL=postgresql://portarium:portarium@localhost:5432/portarium
PORTARIUM_ENVIRONMENT=local
PORTARIUM_RUNTIME_PROFILE=local-sandbox

# ── Keycloak (OIDC / SSO) ────────────────────────────────────────────────────
KEYCLOAK_URL=http://localhost:8080
KEYCLOAK_REALM=portarium

# ── OpenFGA (fine-grained authorisation) ─────────────────────────────────────
OPENFGA_URL=http://localhost:8888

# ── Odoo sandbox (ERP / finance) ─────────────────────────────────────────────
ODOO_URL=http://localhost:4000

# ── Integration smoke tests ───────────────────────────────────────────────────
# Set to true to run smoke tests against the live local stack instead of stubs
GOVERNED_RUN_INTEGRATION=false

# ── Dev token bypass (development only — never set in production) ─────────────
# When set, the API accepts this value as a bearer token without JWT validation.
# See bead-zmf3 for the implementation and usage notes.
# PORTARIUM_DEV_TOKEN=change-me-before-use
