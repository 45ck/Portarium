apiVersion: kustomize.config.k8s.io/v1beta1
kind: Kustomization

namespace: portarium

resources:
  - namespace.yaml
  - serviceaccounts.yaml
  - services.yaml
  - control-plane-deployment.yaml
  - execution-plane-deployment.yaml
  - otel-collector-config.yaml
  - otel-collector-deployment.yaml
  - observability-backends-config.yaml
  - observability-backends-deployment.yaml
  - secrets.yaml
  - pdb.yaml
  - networking.yaml
  - ingress.yaml
  - rbac.yaml
  - agent-network-policy.yaml
  - execution-plane-network-policy.yaml
  - network-policies/agent-egress-deny.yaml
  - network-policies/execution-plane-egress.yaml
  - network-policies/execution-plane-ingress.yaml
  - vault/vault-connection.yaml
  - vault/vault-auth.yaml
  - vault/vault-secrets.yaml
  - spire/spire-server.yaml
  - spire/spire-agent.yaml
  - spire/registration-entries.yaml

images:
  - name: ghcr.io/your-org/portarium-control-plane
    newName: ghcr.io/your-org/portarium-control-plane
    newTag: latest
  - name: ghcr.io/your-org/portarium-worker
    newName: ghcr.io/your-org/portarium-worker
    newTag: latest
