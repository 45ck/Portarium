apiVersion: v1
kind: Service
metadata:
  name: portarium-control-plane
  namespace: portarium
  labels:
    app.kubernetes.io/name: portarium-control-plane
    app.kubernetes.io/part-of: portarium
spec:
  selector:
    app.kubernetes.io/name: portarium-control-plane
    app.kubernetes.io/part-of: portarium
  ports:
    - name: http
      protocol: TCP
      port: 8080
      targetPort: 8080
---
apiVersion: v1
kind: Service
metadata:
  name: portarium-execution-plane
  namespace: portarium
  labels:
    app.kubernetes.io/name: portarium-execution-plane
    app.kubernetes.io/part-of: portarium
spec:
  selector:
    app.kubernetes.io/name: portarium-execution-plane
    app.kubernetes.io/part-of: portarium
  ports:
    - name: metrics
      protocol: TCP
      port: 8081
      targetPort: 8081
---
apiVersion: v1
kind: Service
metadata:
  name: temporal
  namespace: portarium
  labels:
    app.kubernetes.io/name: portarium-temporal
    app.kubernetes.io/part-of: portarium
spec:
  # Temporal is deployed by a platform-managed dependency in this baseline.
  # Keep service selector placeholder stable for manifest composition.
  selector:
    app.kubernetes.io/name: portarium-temporal
  ports:
    - name: frontend
      protocol: TCP
      port: 7233
      targetPort: 7233
---
apiVersion: v1
kind: Service
metadata:
  name: portarium-otel-collector
  namespace: portarium
  labels:
    app.kubernetes.io/name: portarium-otel-collector
    app.kubernetes.io/part-of: portarium
spec:
  selector:
    app.kubernetes.io/name: portarium-otel-collector
    app.kubernetes.io/part-of: portarium
  ports:
    - name: otlp-grpc
      protocol: TCP
      port: 4317
      targetPort: 4317
    - name: otlp-http
      protocol: TCP
      port: 4318
      targetPort: 4318
    - name: metrics
      protocol: TCP
      port: 9464
      targetPort: 9464
---
apiVersion: v1
kind: Service
metadata:
  name: tempo
  namespace: portarium
  labels:
    app.kubernetes.io/name: portarium-tempo
    app.kubernetes.io/part-of: portarium
spec:
  selector:
    app.kubernetes.io/name: portarium-tempo
  ports:
    - name: otlp-grpc
      protocol: TCP
      port: 4317
      targetPort: 4317
    - name: http
      protocol: TCP
      port: 3200
      targetPort: 3200
---
apiVersion: v1
kind: Service
metadata:
  name: loki
  namespace: portarium
  labels:
    app.kubernetes.io/name: portarium-loki
    app.kubernetes.io/part-of: portarium
spec:
  selector:
    app.kubernetes.io/name: portarium-loki
  ports:
    - name: http
      protocol: TCP
      port: 3100
      targetPort: 3100
---
apiVersion: v1
kind: Service
metadata:
  name: prometheus
  namespace: portarium
  labels:
    app.kubernetes.io/name: portarium-prometheus
    app.kubernetes.io/part-of: portarium
spec:
  selector:
    app.kubernetes.io/name: portarium-prometheus
  ports:
    - name: http
      protocol: TCP
      port: 9090
      targetPort: 9090
---
apiVersion: v1
kind: Service
metadata:
  name: grafana
  namespace: portarium
  labels:
    app.kubernetes.io/name: portarium-grafana
    app.kubernetes.io/part-of: portarium
spec:
  selector:
    app.kubernetes.io/name: portarium-grafana
  ports:
    - name: http
      protocol: TCP
      port: 3000
      targetPort: 3000
---
apiVersion: v1
kind: Service
metadata:
  name: vault
  namespace: portarium
  labels:
    app.kubernetes.io/name: portarium-vault
    app.kubernetes.io/part-of: portarium
spec:
  selector:
    app.kubernetes.io/name: portarium-vault
  ports:
    - name: http
      protocol: TCP
      port: 8200
      targetPort: 8200
---
apiVersion: v1
kind: Service
metadata:
  name: evidence-store
  namespace: portarium
  labels:
    app.kubernetes.io/name: portarium-evidence-store
    app.kubernetes.io/part-of: portarium
spec:
  selector:
    app.kubernetes.io/name: portarium-evidence-store
  ports:
    - name: http
      protocol: TCP
      port: 9000
      targetPort: 9000
---
apiVersion: v1
kind: Service
metadata:
  name: postgres
  namespace: portarium
  labels:
    app.kubernetes.io/name: portarium-postgres
    app.kubernetes.io/part-of: portarium
spec:
  selector:
    app.kubernetes.io/name: portarium-postgres
  ports:
    - name: pg
      protocol: TCP
      port: 5432
      targetPort: 5432
