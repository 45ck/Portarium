# ERPNext

- Provider ID: `erpnext`
- Port Families: `FinanceAccounting`, `ProcurementSpend`
- Upstream: `https://github.com/frappe/erpnext`
- Pinned commit: `c8c54a42e2c6491c5a5ba037e21107c4c7f6d23d` (run `npm run domain-atlas:vendor -- --only erpnext` to vendor locally)
- Extracted CIF: `domain-atlas/extracted/erpnext/cif.json` (generated by `scripts/domain-atlas/extract-erpnext-cif.mjs`)

## What To Extract Next

- Expand DocType coverage for core financial/procurement workflows (Purchase Invoice, Journal Entry, GL Account, Payment Schedule, etc.).
- Lifecycle/state fields and which actions transition them.
- Permissions model relevant to mapping RBAC concepts.

## Mapping Notes (Canonical)

- Supplier/Customer map to `Party` with role tags.
- Submittable transaction DocTypes use `docstatus` (Draft/Submitted/Cancelled). Use `status` where present for richer provider-native state.
- Financial artifacts with high variance should use `ExternalObjectRef` unless clearly canonical.

## Capability Matrix Notes

- Capture server-side workflow/approval engine semantics (who can do what, when).
- Clarify idempotency approach (naming series, external references).

## Key Semantics (DocTypes)

- Primary key: Frappe documents use `name` as the primary key (string, naming series by default).
- Relationships:
  - `Link` fields are foreign-key-like references to other DocTypes.
  - `Table` fields reference child-table DocTypes (child docs carry `parent` / `parenttype` / `parentfield`).

## Open Questions

- Extraction approach: DocType JSON vs server-side model code?
